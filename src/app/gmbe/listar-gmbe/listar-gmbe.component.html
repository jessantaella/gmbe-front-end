<div class="container-fluid">
    <div class="d-flex flex-row-reverse bd-highlight m-3">
        <div class="p-2 bd-highlight">
            <button [routerLink]="['/crear-gmbe']" class="btn-nuevo btn-sm">
                <em class='bi bi-plus'></em>
              Nuevo GMBE
              </button>
        </div>
      </div>
      <table class="table table-striped table-bordered">
        <thead class="cabecera-tabla">
          <tr class="text-center ">
            <th scope="col">Ver</th>
            <th scope="col">Acciones</th>
            <th scope="col">MBE</th>
            <th scope="col">Quien lo creo</th>
            <th scope="col">Estatus</th>
            <th scope="col">Fecha de creación</th>
            <th scope="col">Fecha de publicación</th>
            <th scope="col">Gestión</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let mbe of listaMBE">
            <td class="text-center">
                <fa-icon [icon]="faEye" class="btn-acciones" [routerLink]="['/vista-previa',mbe.idMbe]"></fa-icon>
            </td>
            <td  class="text-center">
                <fa-icon [icon]="faEllipsisVertical" class="btn-acciones"></fa-icon>
            </td>
            <td  class="text-start">
              {{mbe?.nombre}}
            </td>
            <td class="text-center">{{mbe?.idUsuario?.nombre}}</td>
            <td class="text-center">
              {{mbe?.idEstatus.catalogo}}
            </td>
            <td class="text-center">{{ mbe?.created | date: 'dd/MM/yyyy' }}</td>
            <td class="text-center">{{mbe?.fechaPublicacion |  date: 'dd/MM/yyyy'}}</td>
            <td>
              <fa-icon [icon]="faUpload" class="btn-acciones m-2" *ngIf="!mbe?.bloqueado"></fa-icon>
              <fa-icon [icon]="faUpload" class="btn-acciones-inabil m-2" *ngIf="mbe?.bloqueado"></fa-icon>
              
              <fa-icon [icon]="faPencil" class="btn-acciones m-2" [routerLink]="['/editar-gmbe',mbe?.idMbe]" *ngIf="!mbe?.bloqueado"></fa-icon>
              <fa-icon [icon]="faPencil" class="btn-acciones-inabil m-2" *ngIf="mbe?.bloqueado"></fa-icon>

              <fa-icon [icon]="faCircleCheck" *ngIf="mbe?.bloqueado && validarRol()" class="btn-acciones m-2 activo" (click)="bloquearMbe(mbe?.idMbe,mbe?.bloqueado)" ></fa-icon>
              <fa-icon [icon]="faXmarkCircle" *ngIf="!mbe?.bloqueado && validarRol()" class="btn-acciones m-2 inactivo" (click)="bloquearMbe(mbe?.idMbe,mbe?.bloqueado)" ></fa-icon>

              <fa-icon [icon]="faTrashCan" class="btn-acciones m-2" *ngIf="!mbe?.bloqueado"></fa-icon>
              <fa-icon [icon]="faTrashCan" class="btn-acciones-inabil m-2" *ngIf="mbe?.bloqueado"></fa-icon>

            </td>
          </tr>
        </tbody>
      </table>
      <nav class="d-flex justify-content-center">
        <ngb-pagination
          [(page)]="page"
          [collectionSize]="items"
          [maxSize]="10"
          [pageSize]="pageSize"
          (pageChange)="loadPage($event)"
          [rotate]="true"
          [directionLinks]="true"
          [boundaryLinks]="false"
          >
        </ngb-pagination>
      </nav>
</div>
